<!DOCTYPE html>
<html>
<head>
    <title>Car Information</title>
</head>
<body>
    <h1>Car Information</h1>
    <label for="modelInput">Enter Car Model:</label>
    <input type="text" id="modelInput">
    <button id="fetchData">Fetch Car Info</button>
    <div id="carTable"></div>
</body>

<script>
    document.getElementById("fetchData").addEventListener("click", function () {
        const url = "http://127.0.0.1:8420/api/car/";
    
        fetch(url)
            .then(response => response.json())
            .then(data => {
                const carTable = document.getElementById("carTable");
                carTable.innerHTML = ""; // Clear previous table
    
                if (data.length === 0) {
                    carTable.textContent = "No cars found.";
                } else {
                    const table = document.createElement("table");
                    table.border = "1";
    
                    const headerRow = document.createElement("tr");
                    ['make', 'model', 'year', 'fuel', 'cylinders'].forEach(key => {
                        const th = document.createElement("th");
                        th.textContent = key.charAt(0).toUpperCase() + key.slice(1); // Capitalize first letter of keys
                        headerRow.appendChild(th);
                    });
                    table.appendChild(headerRow);
    
                    data.forEach(car => {
                        const row = document.createElement("tr");
                        ['make', 'model', 'year', 'fuel', 'cylinders'].forEach(key => {
                            const cell = document.createElement("td");
                            cell.textContent = car[key];
                            row.appendChild(cell);
                        });
                        table.appendChild(row);
                    });
    
                    carTable.appendChild(table);
                }
            })
            .catch(error => {
                console.error("Error:", error);
            });
    });
    
    
</script>

<!--<script>
    document.getElementById("fetchData").addEventListener("click", function () {
        const modelInput = document.getElementById("modelInput").value;

        const url = "https://cars-by-api-ninjas.p.rapidapi.com/v1/cars";
        const querystring = { model: modelInput };

        const headers = {
            "X-RapidAPI-Key": "a8491de794msh6676acc5521c4fcp1c5cf8jsn6d99a8656992",
            "X-RapidAPI-Host": "cars-by-api-ninjas.p.rapidapi.com"
        };

        const params = new URLSearchParams(querystring);

        fetch(url + "?" + params, { headers: headers })
            .then(response => response.json())
            .then(data => {
                // Handle the response data here
                const carTable = document.getElementById("carTable");
                carTable.innerHTML = ""; // Clear previous table

                if (data.length === 0) {
                    carTable.textContent = "No cars found.";
                } else {
                    // Create a table
                    const table = document.createElement("table");
                    table.border = "1";

                    // Create table header
                    const headerRow = document.createElement("tr");
                    for (const key in data[0]) {
                        const th = document.createElement("th");
                        th.textContent = key;
                        headerRow.appendChild(th);
                    }
                    table.appendChild(headerRow);

                    // Add data rows to the table
                    data.forEach(car => {
                        const row = document.createElement("tr");
                        for (const key in car) {
                            const cell = document.createElement("td");
                            cell.textContent = car[key];
                            row.appendChild(cell);
                        }
                        table.appendChild(row);
                    });

                    carTable.appendChild(table);
                }
            })
            .catch(error => {
                console.error("Error:", error);
            });
    });
</script>-->>
</html>

